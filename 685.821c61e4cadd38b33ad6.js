"use strict";(self.webpackChunkissue3=self.webpackChunkissue3||[]).push([[685],{1445:(e,r,s)=>{s.r(r),s.d(r,{default:()=>N});var o=s(4848),t=s(6540),n=s(6175),a=s(7183),c=s(6942),l=s.n(c),i=s(3698),u=s(1468),d=s(9381);const p="EPeQv6H4",_="QtCD4M4K",m=e=>{var r;const{className:s=""}=e,t=(0,u.wA)(),{statusesDictionary:n}=(0,a.G)((e=>e.dictionaryReducer)),{filter:c}=(0,a.G)((e=>e.proposalsReducer)),{changeFilter:m}=d.q.actions,R=e=>{t(m(e))},E=e=>e===c;return(0,o.jsxs)("ul",{className:l()("fVZ9i26q",s),children:[(0,o.jsx)("li",{className:p,children:(0,o.jsx)(i.$,{className:l()({[_]:E("ALL")}),theme:i.o.SECONDARY,disabled:E("ALL"),onClick:()=>{R("ALL")},children:"Все"})},0),null===(r=Object.entries(n))||void 0===r?void 0:r.map((([e,r],s)=>(0,o.jsx)("li",{className:p,children:(0,o.jsx)(i.$,{className:l()({[_]:E(e)}),theme:i.o.SECONDARY,disabled:E(e),onClick:()=>{R(e)},children:r})},s+1)))]})};var R=s(5508),E=s(9165);const S=(0,R.Mz)([e=>e.proposalsReducer.allProposals,e=>e.proposalsReducer.proposalsDictionary,e=>e.proposalsReducer.filter,e=>e.proposalsReducer.sort],((e,r,s,o)=>{var t;return((e,r)=>{const s=[...r];if(r.length<2)return s;switch(e){case E.D.SORT_BASE:return s;case E.D.SORT_BY_ID:return s.sort(((e,r)=>e.id-r.id));case E.D.SORT_BY_ID_REVERSE:return s.sort(((e,r)=>r.id-e.id));case E.D.SORT_BY_FIRSTNAME:return s.sort(((e,r)=>{const s=e.person.firstName,o=r.person.firstName;return s.localeCompare(o)}));case E.D.SORT_BY_FIRSTNAME_REVERSE:return s.sort(((e,r)=>{const s=e.person.firstName;return r.person.firstName.localeCompare(s)}));case E.D.SORT_BY_LASTNAME:return s.sort(((e,r)=>{const s=e.person.lastName,o=r.person.lastName;return s.localeCompare(o)}));case E.D.SORT_BY_LASTNAME_REVERSE:return s.sort(((e,r)=>{const s=e.person.lastName;return r.person.lastName.localeCompare(s)}));case E.D.SORT_BY_DRIVER_LICENCE:return s.sort(((e,r)=>{const s=e.person.driverLicense,o=r.person.driverLicense;return s.localeCompare(o)}));case E.D.SORT_BY_DRIVER_LICENCE_REVERSE:return s.sort(((e,r)=>{const s=e.person.driverLicense;return r.person.driverLicense.localeCompare(s)}));case E.D.SORT_BY_EMAIL:return s.sort(((e,r)=>{const s=e.person.email,o=r.person.email;return s.localeCompare(o)}));case E.D.SORT_BY_EMAIL_REVERSE:return s.sort(((e,r)=>{const s=e.person.email;return r.person.email.localeCompare(s)}));case E.D.SORT_BY_STATUS:return s.sort(((e,r)=>{const s=e.status.code,o=r.status.code;return s.localeCompare(o)}));case E.D.SORT_BY_STATUS_REVERSE:return s.sort(((e,r)=>{const s=e.status.code;return r.status.code.localeCompare(s)}));case E.D.SORT_BY_CITY:return s.sort(((e,r)=>{const s=e.city.code,o=r.city.code;return s.localeCompare(o)}));case E.D.SORT_BY_CITY_REVERSE:return s.sort(((e,r)=>{const s=e.city.code;return r.city.code.localeCompare(s)}));case E.D.SORT_BY_AUTO_CATEGORY:return s.sort(((e,r)=>{const s=e.auto.model.code,o=r.auto.model.code;return s.localeCompare(o)}));case E.D.SORT_BY_AUTO_CATEGORY_REVERSE:return s.sort(((e,r)=>{const s=e.auto.model.code;return r.auto.model.code.localeCompare(s)}));case E.D.SORT_BY_MODEL:return s.sort(((e,r)=>{const s=e.auto.model.code,o=r.auto.model.code;return s.localeCompare(o)}));case E.D.SORT_BY_MODEL_REVERSE:return s.sort(((e,r)=>{const s=e.auto.model.code;return r.auto.model.code.localeCompare(s)}));default:return s}})(o,"ALL"===s?e:null!==(t=r[s])&&void 0!==t?t:[])}));var h;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},v.apply(this,arguments)}const C=function(e){return t.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),h||(h=t.createElement("path",{fillRule:"evenodd",d:"m3.99 16.854-1.314 3.503a.75.75 0 0 0 .966.966l3.503-1.314a3 3 0 0 0 1.068-.688L18.36 9.174s-.354-1.06-1.414-2.12c-1.06-1.062-2.122-1.415-2.122-1.415L4.677 15.786a3 3 0 0 0-.687 1.068m12.249-12.63 1.383-1.383c.248-.248.579-.406.925-.349.487.08 1.232.323 1.934 1.026.703.702.945 1.447 1.025 1.934.058.346-.1.676-.348.924L19.774 7.76S19.421 6.7 18.36 5.64s-2.121-1.414-2.121-1.414",clipRule:"evenodd"})))};var O=s(4633),T=s(5749),D=s(2111),f=s(5549);const g={page:"NqeiQXZt",page__edit:"wMviRsCs",pageEdit:"wMviRsCs",page__title:"L487Mdkw",pageTitle:"L487Mdkw",page__message:"h5jv_mZF",pageMessage:"h5jv_mZF",page__info:"oBg0DTDk",pageInfo:"oBg0DTDk"};var L=function(e,r,s,o){return new(s||(s=Promise))((function(t,n){function a(e){try{l(o.next(e))}catch(e){n(e)}}function c(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof s?r:new s((function(e){e(r)}))).then(a,c)}l((o=o.apply(e,r||[])).next())}))};function N(){var e;const r=(0,a.G)(S),[s,c]=(0,t.useState)(!1),[l,u]=(0,t.useState)(null),[d,{isLoading:p,isSuccess:_,isError:R}]=(0,f.W$)(),E=e=>{u(e),c(!0)},h=()=>{u(null),c(!1)},v=e=>L(this,void 0,void 0,(function*(){if(null!==e)try{yield d(e).unwrap()}catch(e){console.log(e)}}));return(0,o.jsxs)("main",{className:g.page,children:[(0,o.jsxs)("p",{className:g.page__title,children:["Всего заявок: ",null!==(e=null==r?void 0:r.length)&&void 0!==e?e:"0"]}),(0,o.jsxs)(O.E,{to:T.AY["new-proposal"],theme:O.N.PROPOSAL,children:[(0,o.jsx)(C,{className:g.page__edit}),"Создать новую заявку"]}),(0,o.jsx)(m,{}),(0,o.jsx)(n._M,{children:null==r?void 0:r.map((e=>(0,o.jsx)(n.pu,{onOpen:E,proposal:e},e.id)))}),(0,o.jsxs)(D.a,{isOpen:s,onClose:h,isSuccess:_,isError:R,isLoading:p,children:[(0,o.jsxs)("p",{className:g.page__info,children:["Вы точно уверены, что хотите удалить заявку под номером ",null!=l?l:""," ? Отменить действие  будет невозможно"]}),(0,o.jsx)(i.$,{theme:i.o.DELETE,onClick:()=>L(this,void 0,void 0,(function*(){yield v(l)})),children:"Удалить"}),(0,o.jsx)(i.$,{theme:i.o.SECONDARY,onClick:h,children:"Отмена"})]})]})}}}]);